---
title: OracleJob
hide_title: true
slug: .
---

import {
  ProtoMessage,
  ProtoServiceMethod,
  ProtoEnum,
} from "/src/components/ProtoFile";

## `OracleJob`

Switchboard oracles read on-chain job accounts to determine how to fetch and
respond to update request. An OracleJob is a collection of tasks that are
chained together to arrive at a single numerical value.

Switchboard tasks are executed sequentially with the output of the previous task
provided as the input to the next task in a chain. After the final task, the
TaskRunner will attempt to convert the running result to a numeric value.

**_NOTE_**: Some task do not consume the running input such as HttpTask,
WebsocketTask, and most of the fetch tasks. If the TaskRunner sees one of these
task types in the middle of a job definition, it will effectively reset the
running result.

Switchboard tasks can be divided into the following categories:

import TaskCategories from "./_common/TaskCategories.mdx";

<TaskCategories />

---

## Messages

Represents a list of tasks to be performed by a switchboard oracle.

### `OracleJob`

<ProtoMessage
  key={0}
  message={{
    name: "OracleJob",
    longName: "OracleJob",
    fullName: ".OracleJob",
    description:
      "Represnts a list of tasks to be performed by a switchboard oracle.",
    hasExtensions: false,
    hasFields: true,
    hasOneofs: false,
    extensions: [],
    fields: [
      {
        name: "tasks",
        description: "The chain of tasks to perform for this ",
        label: "repeated",
        type: "Task",
        longType: "Task",
        fullType: "Task",
        ismap: false,
        isoneof: false,
        oneofdecl: "",
        defaultValue: "",
      },
    ],
  }}
/>

### `Task`

<ProtoMessage
  key={1}
  message={{
    name: "Task",
    longName: "Task",
    fullName: ".Task",
    description: "",
    hasExtensions: false,
    hasFields: true,
    hasOneofs: true,
    extensions: [],
    fields: [
      {
        name: "http_task",
        description: "",
        label: "optional",
        type: "HttpTask",
        longType: "HttpTask",
        fullType: "HttpTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "json_parse_task",
        description: "",
        label: "optional",
        type: "JsonParseTask",
        longType: "JsonParseTask",
        fullType: "JsonParseTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "median_task",
        description: "",
        label: "optional",
        type: "MedianTask",
        longType: "MedianTask",
        fullType: "MedianTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "mean_task",
        description: "",
        label: "optional",
        type: "MeanTask",
        longType: "MeanTask",
        fullType: "MeanTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "websocket_task",
        description: "",
        label: "optional",
        type: "WebsocketTask",
        longType: "WebsocketTask",
        fullType: "WebsocketTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "divide_task",
        description: "",
        label: "optional",
        type: "DivideTask",
        longType: "DivideTask",
        fullType: "DivideTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "multiply_task",
        description: "",
        label: "optional",
        type: "MultiplyTask",
        longType: "MultiplyTask",
        fullType: "MultiplyTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "lp_token_price_task",
        description: "",
        label: "optional",
        type: "LpTokenPriceTask",
        longType: "LpTokenPriceTask",
        fullType: "LpTokenPriceTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "lp_exchange_rate_task",
        description: "",
        label: "optional",
        type: "LpExchangeRateTask",
        longType: "LpExchangeRateTask",
        fullType: "LpExchangeRateTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "conditional_task",
        description: "",
        label: "optional",
        type: "ConditionalTask",
        longType: "ConditionalTask",
        fullType: "ConditionalTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "value_task",
        description: "",
        label: "optional",
        type: "ValueTask",
        longType: "ValueTask",
        fullType: "ValueTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "max_task",
        description: "",
        label: "optional",
        type: "MaxTask",
        longType: "MaxTask",
        fullType: "MaxTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "regex_extract_task",
        description: "",
        label: "optional",
        type: "RegexExtractTask",
        longType: "RegexExtractTask",
        fullType: "RegexExtractTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "xstep_price_task",
        description: "",
        label: "optional",
        type: "XStepPriceTask",
        longType: "XStepPriceTask",
        fullType: "XStepPriceTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "add_task",
        description: "",
        label: "optional",
        type: "AddTask",
        longType: "AddTask",
        fullType: "AddTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "subtract_task",
        description: "",
        label: "optional",
        type: "SubtractTask",
        longType: "SubtractTask",
        fullType: "SubtractTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "twap_task",
        description: "",
        label: "optional",
        type: "TwapTask",
        longType: "TwapTask",
        fullType: "TwapTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "serum_swap_task",
        description: "",
        label: "optional",
        type: "SerumSwapTask",
        longType: "SerumSwapTask",
        fullType: "SerumSwapTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "pow_task",
        description: "",
        label: "optional",
        type: "PowTask",
        longType: "PowTask",
        fullType: "PowTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "lending_rate_task",
        description: "",
        label: "optional",
        type: "LendingRateTask",
        longType: "LendingRateTask",
        fullType: "LendingRateTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "mango_perp_market_task",
        description: "",
        label: "optional",
        type: "MangoPerpMarketTask",
        longType: "MangoPerpMarketTask",
        fullType: "MangoPerpMarketTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "jupiter_swap_task",
        description: "",
        label: "optional",
        type: "JupiterSwapTask",
        longType: "JupiterSwapTask",
        fullType: "JupiterSwapTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "perp_market_task",
        description: "",
        label: "optional",
        type: "PerpMarketTask",
        longType: "PerpMarketTask",
        fullType: "PerpMarketTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "oracle_task",
        description: "",
        label: "optional",
        type: "OracleTask",
        longType: "OracleTask",
        fullType: "OracleTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "anchor_fetch_task",
        description: "",
        label: "optional",
        type: "AnchorFetchTask",
        longType: "AnchorFetchTask",
        fullType: "AnchorFetchTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "defi_kingdoms_task",
        description: "",
        label: "optional",
        type: "DefiKingdomsTask",
        longType: "DefiKingdomsTask",
        fullType: "DefiKingdomsTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "tps_task",
        description: "",
        label: "optional",
        type: "TpsTask",
        longType: "TpsTask",
        fullType: "TpsTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "spl_stake_pool_task",
        description: "",
        label: "optional",
        type: "SplStakePoolTask",
        longType: "SplStakePoolTask",
        fullType: "SplStakePoolTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "spl_token_parse_task",
        description: "",
        label: "optional",
        type: "SplTokenParseTask",
        longType: "SplTokenParseTask",
        fullType: "SplTokenParseTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "uniswap_exchange_rate_task",
        description: "",
        label: "optional",
        type: "UniswapExchangeRateTask",
        longType: "UniswapExchangeRateTask",
        fullType: "UniswapExchangeRateTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "sushiswap_exchange_rate_task",
        description: "",
        label: "optional",
        type: "SushiswapExchangeRateTask",
        longType: "SushiswapExchangeRateTask",
        fullType: "SushiswapExchangeRateTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "pancakeswap_exchange_rate_task",
        description: "",
        label: "optional",
        type: "PancakeswapExchangeRateTask",
        longType: "PancakeswapExchangeRateTask",
        fullType: "PancakeswapExchangeRateTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "cache_task",
        description: "",
        label: "optional",
        type: "CacheTask",
        longType: "CacheTask",
        fullType: "CacheTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "sysclock_offset_task",
        description: "",
        label: "optional",
        type: "SysclockOffsetTask",
        longType: "SysclockOffsetTask",
        fullType: "SysclockOffsetTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "marinade_state_task",
        description: "",
        label: "optional",
        type: "MarinadeStateTask",
        longType: "MarinadeStateTask",
        fullType: "MarinadeStateTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "solana_account_data_fetch_task",
        description: "",
        label: "optional",
        type: "SolanaAccountDataFetchTask",
        longType: "SolanaAccountDataFetchTask",
        fullType: "SolanaAccountDataFetchTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "buffer_layout_parse_task",
        description: "",
        label: "optional",
        type: "BufferLayoutParseTask",
        longType: "BufferLayoutParseTask",
        fullType: "BufferLayoutParseTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "cron_parse_task",
        description: "",
        label: "optional",
        type: "CronParseTask",
        longType: "CronParseTask",
        fullType: "CronParseTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "min_task",
        description: "",
        label: "optional",
        type: "MinTask",
        longType: "MinTask",
        fullType: "MinTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "history_function_task",
        description: "",
        label: "optional",
        type: "HistoryFunctionTask",
        longType: "HistoryFunctionTask",
        fullType: "HistoryFunctionTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "vwap_task",
        description: "",
        label: "optional",
        type: "VwapTask",
        longType: "VwapTask",
        fullType: "VwapTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "ewma_task",
        description: "",
        label: "optional",
        type: "EwmaTask",
        longType: "EwmaTask",
        fullType: "EwmaTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "comparison_task",
        description: "",
        label: "optional",
        type: "ComparisonTask",
        longType: "ComparisonTask",
        fullType: "ComparisonTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "round_task",
        description: "",
        label: "optional",
        type: "RoundTask",
        longType: "RoundTask",
        fullType: "RoundTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
      {
        name: "bound_task",
        description: "",
        label: "optional",
        type: "BoundTask",
        longType: "BoundTask",
        fullType: "BoundTask",
        ismap: false,
        isoneof: true,
        oneofdecl: "Task",
        defaultValue: "",
      },
    ],
  }}
/>

---
