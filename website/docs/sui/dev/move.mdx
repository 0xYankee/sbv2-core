---
sidebar_position: 10
title: sbv2-sui
---

A Move module to interact with Switchboard V2 on Sui.

## Quick Links

import RoundedCardGroup from "/src/components/RoundedCard/RoundedCardGroup";
import useBaseUrl from "@docusaurus/useBaseUrl";

<RoundedCardGroup
  cols={2}
  items={[
    {
      to: "https://github.com/switchboard-xyz/sbv2-sui/tree/main/move/switchboard_std",
      title: "Github",
      description: "View the Github repo",
      image: <img src={useBaseUrl("/img/icons/github/light.svg")} />,
      imageDark: <img src={useBaseUrl("/img/icons/github/dark.svg")} />,
    },
  ]}
/>

## Install

Add the following to your `Move.toml` file.

```toml
[package]
name = "Package"
version = "0.0.1"

[dependencies]
MoveStdlib = { git = "https://github.com/MystenLabs/sui.git", subdir = "crates/sui-framework/deps/move-stdlib", rev = "devnet" }
Sui = { git = "https://github.com/MystenLabs/sui.git", subdir = "crates/sui-framework", rev = "devnet" }
switchboard = { git = "https://github.com/switchboard-xyz/sbv2-sui.git", subdir = "move/switchboard/", rev = "main"  }

[addresses]
package = "0x0"
std = "0x1"
sui =  "0x2"
switchboard =  "0x8c8b750023fbd573955c431fb4395e7e396aaca3"
```

## Reading Feeds

```rust
use switchboard::aggregator;
use switchboard::math;

// store latest value
struct AggregatorInfo has store, key {
    id: UID,
    aggregator_addr: address,
    latest_result: u128,
    latest_result_scaling_factor: u8,
    round_id: u128,
    latest_timestamp: u64,
}

// get latest value
public entry fun save_aggregator_info(
    feed: &Aggregator,
    ctx: &mut TxContext
) {
    let (latest_result, latest_timestamp, round_id) = aggregator::latest_value(feed);

    // get latest value
    let (value, scaling_factor, _neg) = math::unpack(latest_result);
    transfer::transfer(
        AggregatorInfo {
            id: object::new(ctx),
            latest_result: value,
            latest_result_scaling_factor: scaling_factor,
            aggregator_addr: aggregator::aggregator_address(feed),
            latest_timestamp,
            round_id,
        },
        tx_context::sender(ctx)
    );
}
```
