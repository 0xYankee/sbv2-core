---
sidebar_position: 1
title: "vrf-flip"
---

import RoundedCardGroup from "/src/components/RoundedCard/RoundedCardGroup";
import RoundedCard from "/src/components/RoundedCard/RoundedCard";
import useBaseUrl from "@docusaurus/useBaseUrl";

## Quick Links

<RoundedCardGroup
  cols={2}
  items={[
    {
      to: "https://vrf-demo.switchboard.xyz/",
      title: "Demo",
      description: "View the devnet demo",
      image: <img src={useBaseUrl("/img/icons/play/light.svg")} />,
      imageDark: <img src={useBaseUrl("/img/icons/play/dark.svg")} />,
    },
    {
      to: "https://github.com/switchboard-xyz/vrf-flip",
      title: "Github",
      description: "View the repo",
      image: <img src={useBaseUrl("/img/icons/github/light.svg")} />,
      imageDark: <img src={useBaseUrl("/img/icons/github/dark.svg")} />,
    },
  ]}
/>

## Setup

```bash
git clone https://github.com/switchboard-xyz/vrf-flip
cd vrf-flip
yarn install
yarn link
yarn client:gen
anchor build && anchor deploy
```

Run `anchor build` and update the program ID in `src/lib.rs`.

:::note

Checkout **[Test Integration](/solana/dev/integration)** to learn how to create
your own switchboard environment and run your own oracles for integration
testing.

:::

## Run

```bash
anchor test
```

## CLI

**_NOTE:_** If using localnet, make sure to pass `-c localnet` to the commands
below.

Create a keypair for the house authority

```
 solana-keygen new --no-bip39-passphrase --outfile house-authority-keypair.json
```

Create the House account

```
sbv2-vrf-flip init house-authority-keypair.json F8ce7MsckeZAbAGmxjJNetxYXQa9mKr9nnrC3qKubyYy
# sbv2-vrf-flip init KEYPAIR QUEUEKEY
```

**_NOTE:_** The House must be initialized with a queue that has
`unpermissioned_vrf_enabled` enabled.

Create a keypair for the user

```
 solana-keygen new --no-bip39-passphrase --outfile user-keypair.json
```

Create the User account

```
sbv2-vrf-flip create user-keypair.json
```

Request some FLIP tokens

```
sbv2-vrf-flip airdrop user-keypair.json
```

PLAY!

```
sbv2-vrf-flip play user-keypair.json --gameType coin-flip --guess 2
```

where,

- `gameType` can be `coin-flip`, `roll-dice`, `roll-20-sided-dice`.
- `guess` can be 1 through 2 for a `coin-flip`, 1 through 6 for `dice-roll`, and
  1 through 20 for a `roll-20-sided-dice`
- `betAmount` is the number of tokens to wager

## Speed Run

```
solana-keygen new --no-bip39-passphrase --outfile house-authority-keypair.json
sbv2-vrf-flip init house-authority-keypair.json F8ce7MsckeZAbAGmxjJNetxYXQa9mKr9nnrC3qKubyYy
solana-keygen new --no-bip39-passphrase --outfile user-keypair.json
sbv2-vrf-flip create user-keypair.json
sbv2-vrf-flip airdrop user-keypair.json
sbv2-vrf-flip play user-keypair.json --gameType coin-flip --guess 2
```
