---
title: TwapTask
hide_title: true
---

import {
  ProtoMessage,
  ProtoServiceMethod,
  ProtoEnum,
} from "/src/components/ProtoFile";

## `TwapTask`

_**path** TwapTask_

_**package** TwapTask_

Takes a twap over a set period for a certain aggregator.

---

## Messages

### `TwapTask`

<ProtoMessage
  key={0}
  message={{
    name: "TwapTask",
    longName: "TwapTask",
    fullName: ".TwapTask",
    description: "Takes a twap over a set period for a certain aggregator.",
    hasExtensions: false,
    hasFields: true,
    hasOneofs: false,
    extensions: [],
    fields: [
      {
        name: "aggregator_pubkey",
        description: "The target aggregator for the TWAP.",
        label: "optional",
        type: "string",
        longType: "string",
        fullType: "string",
        ismap: false,
        isoneof: false,
        oneofdecl: "",
        defaultValue: "",
      },
      {
        name: "period",
        description: "Period, in seconds, the twap should account for",
        label: "optional",
        type: "int32",
        longType: "int32",
        fullType: "int32",
        ismap: false,
        isoneof: false,
        oneofdecl: "",
        defaultValue: "",
      },
      {
        name: "weight_by_propagation_time",
        description: "Weight samples by their propagation time",
        label: "optional",
        type: "bool",
        longType: "bool",
        fullType: "bool",
        ismap: false,
        isoneof: false,
        oneofdecl: "",
        defaultValue: "",
      },
      {
        name: "min_samples",
        description:
          "Minimum number of samples in the history to calculate a valid result",
        label: "optional",
        type: "uint32",
        longType: "uint32",
        fullType: "uint32",
        ismap: false,
        isoneof: false,
        oneofdecl: "",
        defaultValue: "",
      },
      {
        name: "ending_unix_timestamp",
        description: "Ending unix timestamp to collect values up to",
        label: "optional",
        type: "int32",
        longType: "int32",
        fullType: "int32",
        ismap: false,
        isoneof: false,
        oneofdecl: "",
        defaultValue: "",
      },
      {
        name: "ending_unix_timestamp_task",
        description: "Execute the task to get the ending unix timestamp",
        label: "optional",
        type: "CronParseTask",
        longType: "CronParseTask",
        fullType: "CronParseTask",
        ismap: false,
        isoneof: false,
        oneofdecl: "",
        defaultValue: "",
      },
    ],
  }}
/>

---
